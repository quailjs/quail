<!doctype html>
<html>

<head>
  <title>Test that QUAIL calls events correctly</title>
</head>

<body>
  <p>
    <img src="../assets/rex.jpg" />
  </p>
  <script src="../quail-testrunner.js"></script>
  <script>
    (function(global) {
      global.quailTest = function() {
        asyncTest('quailEventTester', function() {
          expect(2);
          $(document).quail({
            jsonPath : '../../dist',
            guideline : [ 'imgHasAlt' ],
            reset : true,
            complete : function(eventName, thisTest, _case) {
              equal(thisTest.get('name'), 'imgHasAlt', 'The test name is correct');
              equal(thisTest.get('testability'), 1, 'The test\'s testability value is correct');
              start();
            }
          });
        });
      };
    })(this);
  </script>
</body>

</html>
