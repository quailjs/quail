<!doctype html>
<html>
    
    <head>
        <title>HTML code can be selected - pass</title>
        <link rel="stylesheet" href="../../../lib/qunit/qunit/qunit.css"
        media="screen">
    </head>
    
    <body>
        <div id="quail-scope">
          <div id="contents">
            <p>First paragraph</p>
            <p>Second paragraph</p>
            <p>Third paragraph <span class="test">Test inline element</span></p>
          </div>
          <ul class="list">
            <li>A</li>
            <li>B</li>
            <li>C</li>
          </ul>
        </div>

        <script id="qunit-htmlparser" src="../../../lib/node-htmlparser/lib/htmlparser.js"></script>
        <script id="qunit-jquery" src="../../../lib/jquery/jquery.js"></script>
        <script id="qunit-quail" src="../../../dist/quail.jquery.js"></script>
        <script id="qunit-composite" src="../../composite.js"></script>
        <script id="qunit-qunit" src="../../../lib/qunit/qunit/qunit.js"></script>
        <script id="qunit-script">
            
          var custom = {
            htmlSourceSelectorTest : {
                type : 'custom',
                components: [ 'htmlSource' ],
                callback : function(quail) {
                  quail.components.htmlSource.getHtml(function(html, parsed) {
                    quail.components.htmlSource.traverse(parsed, function(element) {
                      if(element.type === 'tag' && typeof element.selector && element.name != 'script') {
                        test('selector: ' + element.selector.join(' '), function() {
                          equal(true, $(element.selector.join(' ')).length > 0, 'Selector ' + element.selector.join(' ') + ' returns an element.');
                        });
                        if($(element.selector.join(' ')).length == 0) {
                        }
                      }
                    });
                  });
                }
            }
          };
          $('#quail-scope').quail({ jsonPath : '../../../dist',
                              guideline : [ 'htmlSourceSelectorTest' ],
                              reset : true,
                              customTests : custom
                          });
        </script>
    </body>

</html>